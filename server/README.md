# API Docs

REST API built with Express and better-sqlite3.

# Getting started

To start up the API you need to clone this repo and install it's dependencies.

### Prerequisites

Run the following to install **Express** and **better-sqlite3**

```
yarn
```

or if you prefer npm

```
npm install
```

### Installing

Run the following to start the server

```
cd server
```

```
yarn start
```

or if you prefer npm

```
npm start
```

A schema of the database will be generated when server starts.

# Endpoints

Ther api has the following endpoints to retrieve or insert information into it.

## To Get information

To get all bookings use

```
api/booking
```

Response to request:

```
{
    "id": 1,
    "guest_id": 1,
    "details_id": 1,
    "num_of_guests": 2,
    "time": "HH:HH",
    "date": "YYYY-MM-DD"
  }
```

To get a specific booking use

```
api/booking/id
```

where id is the booking id of the booking you want.

Response to request:

```
{
  "id": 1,
  "guest_id": 1,
  "details_id": 1
}
```

To get all guests use

```
api/guests
```

Response to request:

```
{
    "id": 1,
    "firstname": "Jane",
    "lastname": "Doe",
    "email": "example@mail.com",
    "phone": "000 000 00"
  }
```

## To Post information

To create a new guest use

```
api/create-guest
```

You will need to specify firstname, lastname, email and phone. All arguments should be strings to be accepted. id is autogenerated.

Response on request:

```
{
  "id": 2,
  "firstname": "John",
  "lastname": "Doe",
  "email": "example@email.com",
  "phone": "000 000 00"
}
```

To create details for booking use

```
api/create-details
```

You will need to specify guest_id and num_of_guests as integers and time and date as strings. id is autogenerated.

Response on request:

```
{
  "id": 1,
  "guest_id": 1,
  "num_of_guests": 2,
  "time": "HH:HH",
  "date": "YYYY-MM-DD"
}
```

To create a new booking use

```
api/create-booking
```

You will need to specify a existing guest_id and details_id. id is autogenerated on insert.

Response on request:

```
{
  "id": 1,
  "guest_id": 1,
  "details_id": 1
}
```
